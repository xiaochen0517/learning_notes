# 二叉树



# 平衡二叉树

## 概述



## 解析



### 左右旋转

#### 左旋

##### 解析



##### 代码实现

```java
/**
 * 左旋转
 * @param n
 *
 *       np                 np
 *       |                  |
 *       n                  nr
 *      / \       ==>      / \
 *    nl   nr             n   rr
 *        / \            / \
 *      rl   rr         nl  rl
 */
private void leftRotate(Node n){
    if (n == null)
        return;
    Node np = n.parent;
    Node nr = n.right;
    if (nr == null)
        return;
    Node rl = nr.left;
    if (np != null)
        if (np.left == n)
            np.left = nr;
        else
            np.right = nr;
    nr.left = n;
    nr.parent = np;
    n.right = rl;
    n.parent = nr;
    if (rl != null)
        rl.parent = n;
}
```



#### 右旋

##### 解析



##### 代码实现

```java
/**
 * 右旋转
 * @param n
 *
 *       np                 np
 *       |                  |
 *       n                  nl
 *      / \       ==>      / \
 *    nl   nr            ll   n
 *   / \                     / \
 * ll   lr                  lr  nr
 */
private void rightRotate(Node n){
    if (n == null)
        return;
    Node np = n.parent;
    Node nl = n.left;
    if (nl == null)
        return;
    Node lr = nl.right;
    if (np != null)
        if (np.left == n)
            np.left = nl;
        else
            np.right = nl;
    nl.right = n;
    nl.parent = np;
    n.left = lr;
    n.parent = nl;
    if (lr != null)
        lr.parent = n;
}
```



# 2-3-4树



# 红黑树

